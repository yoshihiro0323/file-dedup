# file-dedup

ファイルの重複を検出し、削除候補を提案するツールです。

## 概要

このツールは、SHA256ハッシュ値が記録されたCSVファイルを入力として、重複するファイルを検出し、削除候補を提案します。
ファイル名の長さを基準に、最も短い名前のファイルを保持し、他のファイルを削除候補として提案します。

## 使用方法

```bash
./file-dedup -csv <CSVファイルのパス> [-out <出力ファイル名>] [-debug]
```

### オプション

- `-csv`: 必須。重複チェックするCSVファイルのパス
- `-out`: 任意。出力ファイルの名前（デフォルト: duplicates.txt）
- `-debug`: 任意。詳細な出力を行うモード

### 入力CSVファイルの形式

CSVファイルは以下の形式である必要があります：
- ヘッダーなし
- 1列目: ファイル名
- 2列目: SHA256ハッシュ値

### 出力形式

#### 通常モード
削除候補のファイルパスのみが出力されます。

#### デバッグモード
以下の形式で出力されます：
```
保持するファイル: [ファイルパス]
削除候補:
  [ファイルパス1]
  [ファイルパス2]
---
```

## 動作ロジック

1. 入力CSVファイルから、同一ハッシュ値を持つファイルをグループ化
2. 各グループ内で、最も短いファイル名のファイルを保持対象として選択
3. その他のファイルを削除候補として出力